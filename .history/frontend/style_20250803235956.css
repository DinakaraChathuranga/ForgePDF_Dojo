/* --- MODERN THEME & VARIABLES --- */
:root {
    --primary: #1e40af; --primary-hover: #1d4ed8; --primary-light: #3b82f6; --primary-tint: #dbeafe;
    --success: #047857; --success-hover: #059669; --success-tint: #d1fae5;
    --accent: #7c3aed; --accent-hover: #8b5cf6;
    --background: #f8fafc; --surface: #ffffff; --border: #e2e8f0;
    --text-primary: #0f172a; --text-secondary: #64748b; --text-on-dark: #e2e8f0; --text-on-dark-secondary: #94a3b8;
    --font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05); --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --radius-md: 8px; --radius-lg: 12px; --radius-xl: 16px;
}

/* --- BASE STYLES --- */
* { box-sizing: border-box; }
body, html { margin: 0; padding: 0; font-family: var(--font-family); background-color: var(--background); color: var(--text-primary); height: 100vh; overflow: hidden; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
.container { display: flex; height: 100%; }

/* --- SIDEBAR --- */
.sidebar { width: 250px; background: #0f172a; color: var(--text-on-dark); padding: 16px; display: flex; flex-direction: column; flex-shrink: 0; border-right: 1px solid #1e293b; }
.logo { display: flex; align-items: center; gap: 12px; padding: 8px; margin-bottom: 16px; border-bottom: 1px solid #1e293b; }
.logo-icon-wrapper { width: 40px; height: 40px; background-color: var(--primary); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; flex-shrink: 0; overflow: hidden; }
.logo-image { width: 100%; height: 100%; object-fit: cover; }
.logo-text { display: flex; flex-direction: column; }
.logo-main-title { font-weight: 600; font-size: 18px; line-height: 1.2; }
.logo-subtitle { font-size: 12px; color: var(--text-on-dark-secondary); }
.menu { display: flex; flex-direction: column; flex-grow: 1; gap: 4px; }
.menu-item { display: flex; align-items: center; gap: 12px; color: var(--text-on-dark); text-decoration: none; padding: 12px 16px; border-radius: var(--radius-md); transition: all 0.2s ease-in-out; font-weight: 500; }
.menu-item i { width: 20px; height: 20px; }
.menu-item:hover { background-color: #1e293b; }
.menu-item.active { background: var(--primary); color: #FFF; font-weight: 600; }
.sidebar-footer { text-align: left; color: var(--text-on-dark-secondary); font-size: 12px; padding-top: 16px; border-top: 1px solid #1e293b; }
.sidebar-info { display: flex; flex-direction: column; gap: 8px; margin-bottom: 16px; font-size: 13px; }
.sidebar-info a { color: var(--text-on-dark); text-decoration: none; transition: color 0.2s; }
.sidebar-info a:hover { color: var(--primary-light); }
.menu-group { margin-top: 8px; }
.menu-group-header { display: flex; align-items: center; gap: 12px; padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--text-on-dark-secondary); }
.menu-item.sub-item { padding-left: 48px; }

/* --- MAIN CONTENT --- */
.content { flex-grow: 1; background-color: var(--background); overflow-y: auto; display: flex; justify-content: center; align-items: center; padding: 48px; }
.page-content-wrapper { width: 100%; max-width: 700px; }
.page-content-wrapper-full { width: 100%; max-width: 900px; margin: 0 auto; text-align: center; }
.page { display: none; animation: fadeIn 0.4s ease-out; }
.page.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.page-header { text-align: center; }
.page-header h1 { font-size: 28px; font-weight: 700; margin: 0; color: var(--text-primary); }
.page-header p { color: var(--text-secondary); margin: 4px 0 32px 0; font-size: 16px; }

/* --- HOME PAGE --- */
.hero-section { text-align: center; padding-bottom: 48px; }
.hero-title { font-size: 42px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px; }
.hero-subtitle { font-size: 18px; color: var(--text-secondary); margin: 0; }
.tools-list { display: flex; justify-content: center; gap: 24px; flex-wrap: wrap; }
.tool-card { background: var(--surface); border-radius: var(--radius-xl); padding: 20px; text-align: center; border: 1px solid var(--border); box-shadow: var(--shadow-md); transition: all 0.3s ease; cursor: pointer; width: 160px; }
.tool-card:hover { transform: translateY(-8px); box-shadow: var(--shadow-xl); border-color: var(--primary-tint); }
.tool-card-icon-wrapper { width: 56px; height: 56px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; background: linear-gradient(135deg, var(--color-from), var(--color-to)); transition: transform 0.3s ease; }
.tool-card:hover .tool-card-icon-wrapper { transform: scale(1.1); }
.tool-card-icon { color: white; width: 28px; height: 28px; }
.tool-card-title { font-size: 16px; font-weight: 600; color: var(--text-primary); margin: 0 0 4px; }
.tool-card-description { color: var(--text-secondary); font-size: 13px; line-height: 1.4; margin: 0; }
.home-actions { display: flex; justify-content: center; gap: 16px; margin-top: 48px; }
.home-actions .btn { box-shadow: var(--shadow-md); }

/* --- PREVIEW STYLES --- */
.preview-container { margin-top: 24px; }
.preview-controls { display: flex; justify-content: center; align-items: center; gap: 16px; margin-bottom: 16px; }
.preview-image-wrapper { min-height: 300px; background-color: var(--border); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; margin-bottom: 16px; position: relative; }
.preview-image-wrapper.loading::after { content: ''; width: 32px; height: 32px; border: 3px solid var(--primary-tint); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.preview-image-wrapper img { max-width: 100%; max-height: 500px; border-radius: var(--radius-md); box-shadow: var(--shadow-lg); cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
.preview-image-wrapper img.selected { box-shadow: 0 0 0 4px var(--primary); transform: scale(0.98); }
.btn-sm { padding: 8px 12px; font-size: 14px; }

/* --- BUTTONS & FORMS --- */
.action-bar { margin-top: 32px; display: flex; justify-content: center; gap: 16px; }
.btn { color: white; border: none; padding: 12px 24px; border-radius: var(--radius-md); font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 8px; }
.btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.btn:disabled { background: #94a3b8 !important; color: #e2e8f0 !important; cursor: not-allowed; box-shadow: none; transform: none; }
.btn-primary { background: linear-gradient(135deg, var(--primary), var(--primary-light)); }
.btn-success { background: linear-gradient(135deg, var(--success), #10b981); }
.btn-secondary { background: var(--surface); color: var(--text-primary); border: 1px solid var(--border); }
.btn-secondary:hover:not(:disabled) { background: #f1f5f9; }
.form-group { margin-top: 24px; text-align: left; }
.form-group label { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; font-weight: 500; }
input, select { width: 100%; box-sizing: border-box; padding: 12px; border: 1px solid var(--border); border-radius: var(--radius-md); font-size: 14px; transition: all 0.2s ease; }
input:focus, select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1); }
input:disabled, select:disabled { background-color: #f1f5f9; cursor: not-allowed; }

/* --- FILE HANDLING & DROP ZONES --- */
.drop-area { border: 2px dashed var(--border); border-radius: var(--radius-xl); padding: 48px; text-align: center; cursor: pointer; transition: all 0.3s ease; background-color: var(--surface); position: relative; }
.page.highlight .drop-area { border-color: var(--primary); background-color: var(--primary-tint); transform: scale(1.02); box-shadow: var(--shadow-lg); }
.drop-area-content .drop-icon { width: 48px; height: 48px; color: var(--primary); margin-bottom: 12px; transition: transform 0.3s ease; }
.page.highlight .drop-icon { transform: scale(1.1) translateY(-5px); }
.drop-area-content p { margin: 0; font-weight: 500; color: var(--text-primary); }
.drop-area-content span { font-size: 14px; color: var(--text-secondary); }
.file-list-container { margin-top: 24px; max-height: 180px; overflow-y: auto; }
.file-list { list-style-type: none; padding: 0; }
.file-list li { background-color: var(--surface); padding: 12px 16px; border-radius: var(--radius-md); margin-bottom: 8px; border: 1px solid var(--border); font-size: 14px; box-shadow: var(--shadow-sm); transition: all 0.2s ease; text-align: left; }
.file-list li:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); border-color: var(--primary); }

/* --- DRAG & DROP OVERLAY --- */
.drag-overlay { position: fixed; inset: 0; background-color: rgba(30, 64, 175, 0.9); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; z-index: 9999; color: white; pointer-events: none; opacity: 0; transition: opacity 0.3s ease; }
.drag-overlay.visible { opacity: 1; }
.drag-overlay-content { text-align: center; }
.drag-overlay-icon { width: 64px; height: 64px; margin-bottom: 16px; animation: bounce 1.5s infinite; }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
.drag-overlay-title { font-size: 28px; font-weight: 600; margin: 0; }
.drag-overlay-text { font-size: 16px; opacity: 0.8; }